import{s as Je,a as Ee,r as P,h as Ze,d as I,c as Ae,i as R,j as ye,e as te,b as ie,f as Se,g as O,q as Ke,t as et,k as tt,w as _,x as ke}from"../chunks/scheduler.BAVTa1Hq.js";import{h as ve,u as it}from"../chunks/await_block.BS07QoyT.js";import{S as rt,i as nt,t as z,b as $,e as at,g as ot,c as re,a as ne,m as ae,d as oe}from"../chunks/index.CW0Vd2qk.js";import{p as ct}from"../chunks/stores.DJpSXV-Y.js";import{L as st}from"../chunks/LoadingBanner.Jek-2faF.js";import{s as ft}from"../chunks/stores.mjMy36J9.js";import{B as xt}from"../chunks/Button.8xWdUa9e.js";import{C as ut}from"../chunks/Card.BGdpp2qi.js";var Ue={},Q={};Q.byteLength=mt;Q.toByteArray=dt;Q.fromByteArray=yt;var L=[],T=[],ht=typeof Uint8Array<"u"?Uint8Array:Array,Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var q=0,pt=Z.length;q<pt;++q)L[q]=Z[q],T[Z.charCodeAt(q)]=q;T[45]=62;T[95]=63;function Te(x){var i=x.length;if(i%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=x.indexOf("=");n===-1&&(n=i);var o=n===i?0:4-n%4;return[n,o]}function mt(x){var i=Te(x),n=i[0],o=i[1];return(n+o)*3/4-o}function lt(x,i,n){return(i+n)*3/4-n}function dt(x){var i,n=Te(x),o=n[0],c=n[1],u=new ht(lt(x,o,c)),h=0,s=c>0?o-4:o,l;for(l=0;l<s;l+=4)i=T[x.charCodeAt(l)]<<18|T[x.charCodeAt(l+1)]<<12|T[x.charCodeAt(l+2)]<<6|T[x.charCodeAt(l+3)],u[h++]=i>>16&255,u[h++]=i>>8&255,u[h++]=i&255;return c===2&&(i=T[x.charCodeAt(l)]<<2|T[x.charCodeAt(l+1)]>>4,u[h++]=i&255),c===1&&(i=T[x.charCodeAt(l)]<<10|T[x.charCodeAt(l+1)]<<4|T[x.charCodeAt(l+2)]>>2,u[h++]=i>>8&255,u[h++]=i&255),u}function gt(x){return L[x>>18&63]+L[x>>12&63]+L[x>>6&63]+L[x&63]}function wt(x,i,n){for(var o,c=[],u=i;u<n;u+=3)o=(x[u]<<16&16711680)+(x[u+1]<<8&65280)+(x[u+2]&255),c.push(gt(o));return c.join("")}function yt(x){for(var i,n=x.length,o=n%3,c=[],u=16383,h=0,s=n-o;h<s;h+=u)c.push(wt(x,h,h+u>s?s:h+u));return o===1?(i=x[n-1],c.push(L[i>>2]+L[i<<4&63]+"==")):o===2&&(i=(x[n-2]<<8)+x[n-1],c.push(L[i>>10]+L[i>>4&63]+L[i<<2&63]+"=")),c.join("")}var ce={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ce.read=function(x,i,n,o,c){var u,h,s=c*8-o-1,l=(1<<s)-1,d=l>>1,y=-7,v=n?c-1:0,j=n?-1:1,E=x[i+v];for(v+=j,u=E&(1<<-y)-1,E>>=-y,y+=s;y>0;u=u*256+x[i+v],v+=j,y-=8);for(h=u&(1<<-y)-1,u>>=-y,y+=o;y>0;h=h*256+x[i+v],v+=j,y-=8);if(u===0)u=1-d;else{if(u===l)return h?NaN:(E?-1:1)*(1/0);h=h+Math.pow(2,o),u=u-d}return(E?-1:1)*h*Math.pow(2,u-o)};ce.write=function(x,i,n,o,c,u){var h,s,l,d=u*8-c-1,y=(1<<d)-1,v=y>>1,j=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=o?0:u-1,V=o?1:-1,W=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(s=isNaN(i)?1:0,h=y):(h=Math.floor(Math.log(i)/Math.LN2),i*(l=Math.pow(2,-h))<1&&(h--,l*=2),h+v>=1?i+=j/l:i+=j*Math.pow(2,1-v),i*l>=2&&(h++,l/=2),h+v>=y?(s=0,h=y):h+v>=1?(s=(i*l-1)*Math.pow(2,c),h=h+v):(s=i*Math.pow(2,v-1)*Math.pow(2,c),h=0));c>=8;x[n+E]=s&255,E+=V,s/=256,c-=8);for(h=h<<c|s,d+=c;d>0;x[n+E]=h&255,E+=V,h/=256,d-=8);x[n+E-V]|=W*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(x){var i=Q,n=ce,o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;x.Buffer=s,x.SlowBuffer=_e,x.INSPECT_MAX_BYTES=50;var c=2147483647;x.kMaxLength=c,s.TYPED_ARRAY_SUPPORT=u(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{var r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function h(r){if(r>c)throw new RangeError('The value "'+r+'" is invalid for option "size"');var e=new Uint8Array(r);return Object.setPrototypeOf(e,s.prototype),e}function s(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(r)}return l(r,e,t)}s.poolSize=8192;function l(r,e,t){if(typeof r=="string")return j(r,e);if(ArrayBuffer.isView(r))return V(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(C(r,ArrayBuffer)||r&&C(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(C(r,SharedArrayBuffer)||r&&C(r.buffer,SharedArrayBuffer)))return W(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var a=r.valueOf&&r.valueOf();if(a!=null&&a!==r)return s.from(a,e,t);var f=De(r);if(f)return f;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return s.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}s.from=function(r,e,t){return l(r,e,t)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function d(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function y(r,e,t){return d(r),r<=0?h(r):e!==void 0?typeof t=="string"?h(r).fill(e,t):h(r).fill(e):h(r)}s.alloc=function(r,e,t){return y(r,e,t)};function v(r){return d(r),h(r<0?0:X(r)|0)}s.allocUnsafe=function(r){return v(r)},s.allocUnsafeSlow=function(r){return v(r)};function j(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!s.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var t=se(r,e)|0,a=h(t),f=a.write(r,e);return f!==t&&(a=a.slice(0,f)),a}function E(r){for(var e=r.length<0?0:X(r.length)|0,t=h(e),a=0;a<e;a+=1)t[a]=r[a]&255;return t}function V(r){if(C(r,Uint8Array)){var e=new Uint8Array(r);return W(e.buffer,e.byteOffset,e.byteLength)}return E(r)}function W(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');var a;return e===void 0&&t===void 0?a=new Uint8Array(r):t===void 0?a=new Uint8Array(r,e):a=new Uint8Array(r,e,t),Object.setPrototypeOf(a,s.prototype),a}function De(r){if(s.isBuffer(r)){var e=X(r.length)|0,t=h(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||J(r.length)?h(0):E(r);if(r.type==="Buffer"&&Array.isArray(r.data))return E(r.data)}function X(r){if(r>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return r|0}function _e(r){return+r!=r&&(r=0),s.alloc(+r)}s.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==s.prototype},s.compare=function(e,t){if(C(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),C(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var a=e.length,f=t.length,p=0,m=Math.min(a,f);p<m;++p)if(e[p]!==t[p]){a=e[p],f=t[p];break}return a<f?-1:f<a?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return s.alloc(0);var a;if(t===void 0)for(t=0,a=0;a<e.length;++a)t+=e[a].length;var f=s.allocUnsafe(t),p=0;for(a=0;a<e.length;++a){var m=e[a];if(C(m,Uint8Array))p+m.length>f.length?s.from(m).copy(f,p):Uint8Array.prototype.set.call(f,m,p);else if(s.isBuffer(m))m.copy(f,p);else throw new TypeError('"list" argument must be an Array of Buffers');p+=m.length}return f};function se(r,e){if(s.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||C(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var t=r.length,a=arguments.length>2&&arguments[2]===!0;if(!a&&t===0)return 0;for(var f=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return Y(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return de(r).length;default:if(f)return a?-1:Y(r).length;e=(""+e).toLowerCase(),f=!0}}s.byteLength=se;function Le(r,e,t){var a=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return Ve(this,e,t);case"utf8":case"utf-8":return ue(this,e,t);case"ascii":return Oe(this,e,t);case"latin1":case"binary":return Pe(this,e,t);case"base64":return $e(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return We(this,e,t);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),a=!0}}s.prototype._isBuffer=!0;function N(r,e,t){var a=r[e];r[e]=r[t],r[t]=a}s.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)N(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)N(this,t,t+3),N(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)N(this,t,t+7),N(this,t+1,t+6),N(this,t+2,t+5),N(this,t+3,t+4);return this},s.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?ue(this,0,e):Le.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:s.compare(this,e)===0},s.prototype.inspect=function(){var e="",t=x.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},o&&(s.prototype[o]=s.prototype.inspect),s.prototype.compare=function(e,t,a,f,p){if(C(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),a===void 0&&(a=e?e.length:0),f===void 0&&(f=0),p===void 0&&(p=this.length),t<0||a>e.length||f<0||p>this.length)throw new RangeError("out of range index");if(f>=p&&t>=a)return 0;if(f>=p)return-1;if(t>=a)return 1;if(t>>>=0,a>>>=0,f>>>=0,p>>>=0,this===e)return 0;for(var m=p-f,g=a-t,w=Math.min(m,g),k=this.slice(f,p),b=e.slice(t,a),F=0;F<w;++F)if(k[F]!==b[F]){m=k[F],g=b[F];break}return m<g?-1:g<m?1:0};function fe(r,e,t,a,f){if(r.length===0)return-1;if(typeof t=="string"?(a=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,J(t)&&(t=f?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(f)return-1;t=r.length-1}else if(t<0)if(f)t=0;else return-1;if(typeof e=="string"&&(e=s.from(e,a)),s.isBuffer(e))return e.length===0?-1:xe(r,e,t,a,f);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?f?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):xe(r,[e],t,a,f);throw new TypeError("val must be string, number or Buffer")}function xe(r,e,t,a,f){var p=1,m=r.length,g=e.length;if(a!==void 0&&(a=String(a).toLowerCase(),a==="ucs2"||a==="ucs-2"||a==="utf16le"||a==="utf-16le")){if(r.length<2||e.length<2)return-1;p=2,m/=2,g/=2,t/=2}function w(ge,we){return p===1?ge[we]:ge.readUInt16BE(we*p)}var k;if(f){var b=-1;for(k=t;k<m;k++)if(w(r,k)===w(e,b===-1?0:k-b)){if(b===-1&&(b=k),k-b+1===g)return b*p}else b!==-1&&(k-=k-b),b=-1}else for(t+g>m&&(t=m-g),k=t;k>=0;k--){for(var F=!0,G=0;G<g;G++)if(w(r,k+G)!==w(e,G)){F=!1;break}if(F)return k}return-1}s.prototype.includes=function(e,t,a){return this.indexOf(e,t,a)!==-1},s.prototype.indexOf=function(e,t,a){return fe(this,e,t,a,!0)},s.prototype.lastIndexOf=function(e,t,a){return fe(this,e,t,a,!1)};function Me(r,e,t,a){t=Number(t)||0;var f=r.length-t;a?(a=Number(a),a>f&&(a=f)):a=f;var p=e.length;a>p/2&&(a=p/2);for(var m=0;m<a;++m){var g=parseInt(e.substr(m*2,2),16);if(J(g))return m;r[t+m]=g}return m}function Re(r,e,t,a){return H(Y(e,r.length-t),r,t,a)}function je(r,e,t,a){return H(Qe(e),r,t,a)}function ze(r,e,t,a){return H(de(e),r,t,a)}function Ne(r,e,t,a){return H(Xe(e,r.length-t),r,t,a)}s.prototype.write=function(e,t,a,f){if(t===void 0)f="utf8",a=this.length,t=0;else if(a===void 0&&typeof t=="string")f=t,a=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(a)?(a=a>>>0,f===void 0&&(f="utf8")):(f=a,a=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var p=this.length-t;if((a===void 0||a>p)&&(a=p),e.length>0&&(a<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");f||(f="utf8");for(var m=!1;;)switch(f){case"hex":return Me(this,e,t,a);case"utf8":case"utf-8":return Re(this,e,t,a);case"ascii":case"latin1":case"binary":return je(this,e,t,a);case"base64":return ze(this,e,t,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ne(this,e,t,a);default:if(m)throw new TypeError("Unknown encoding: "+f);f=(""+f).toLowerCase(),m=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $e(r,e,t){return e===0&&t===r.length?i.fromByteArray(r):i.fromByteArray(r.slice(e,t))}function ue(r,e,t){t=Math.min(r.length,t);for(var a=[],f=e;f<t;){var p=r[f],m=null,g=p>239?4:p>223?3:p>191?2:1;if(f+g<=t){var w,k,b,F;switch(g){case 1:p<128&&(m=p);break;case 2:w=r[f+1],(w&192)===128&&(F=(p&31)<<6|w&63,F>127&&(m=F));break;case 3:w=r[f+1],k=r[f+2],(w&192)===128&&(k&192)===128&&(F=(p&15)<<12|(w&63)<<6|k&63,F>2047&&(F<55296||F>57343)&&(m=F));break;case 4:w=r[f+1],k=r[f+2],b=r[f+3],(w&192)===128&&(k&192)===128&&(b&192)===128&&(F=(p&15)<<18|(w&63)<<12|(k&63)<<6|b&63,F>65535&&F<1114112&&(m=F))}}m===null?(m=65533,g=1):m>65535&&(m-=65536,a.push(m>>>10&1023|55296),m=56320|m&1023),a.push(m),f+=g}return qe(a)}var he=4096;function qe(r){var e=r.length;if(e<=he)return String.fromCharCode.apply(String,r);for(var t="",a=0;a<e;)t+=String.fromCharCode.apply(String,r.slice(a,a+=he));return t}function Oe(r,e,t){var a="";t=Math.min(r.length,t);for(var f=e;f<t;++f)a+=String.fromCharCode(r[f]&127);return a}function Pe(r,e,t){var a="";t=Math.min(r.length,t);for(var f=e;f<t;++f)a+=String.fromCharCode(r[f]);return a}function Ve(r,e,t){var a=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>a)&&(t=a);for(var f="",p=e;p<t;++p)f+=Ye[r[p]];return f}function We(r,e,t){for(var a=r.slice(e,t),f="",p=0;p<a.length-1;p+=2)f+=String.fromCharCode(a[p]+a[p+1]*256);return f}s.prototype.slice=function(e,t){var a=this.length;e=~~e,t=t===void 0?a:~~t,e<0?(e+=a,e<0&&(e=0)):e>a&&(e=a),t<0?(t+=a,t<0&&(t=0)):t>a&&(t=a),t<e&&(t=e);var f=this.subarray(e,t);return Object.setPrototypeOf(f,s.prototype),f};function B(r,e,t){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,a){e=e>>>0,t=t>>>0,a||B(e,t,this.length);for(var f=this[e],p=1,m=0;++m<t&&(p*=256);)f+=this[e+m]*p;return f},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,a){e=e>>>0,t=t>>>0,a||B(e,t,this.length);for(var f=this[e+--t],p=1;t>0&&(p*=256);)f+=this[e+--t]*p;return f},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e=e>>>0,t||B(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||B(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||B(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||B(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,a){e=e>>>0,t=t>>>0,a||B(e,t,this.length);for(var f=this[e],p=1,m=0;++m<t&&(p*=256);)f+=this[e+m]*p;return p*=128,f>=p&&(f-=Math.pow(2,8*t)),f},s.prototype.readIntBE=function(e,t,a){e=e>>>0,t=t>>>0,a||B(e,t,this.length);for(var f=t,p=1,m=this[e+--f];f>0&&(p*=256);)m+=this[e+--f]*p;return p*=128,m>=p&&(m-=Math.pow(2,8*t)),m},s.prototype.readInt8=function(e,t){return e=e>>>0,t||B(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},s.prototype.readInt16LE=function(e,t){e=e>>>0,t||B(e,2,this.length);var a=this[e]|this[e+1]<<8;return a&32768?a|4294901760:a},s.prototype.readInt16BE=function(e,t){e=e>>>0,t||B(e,2,this.length);var a=this[e+1]|this[e]<<8;return a&32768?a|4294901760:a},s.prototype.readInt32LE=function(e,t){return e=e>>>0,t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e=e>>>0,t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e=e>>>0,t||B(e,4,this.length),n.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e=e>>>0,t||B(e,4,this.length),n.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||B(e,8,this.length),n.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||B(e,8,this.length),n.read(this,e,!1,52,8)};function A(r,e,t,a,f,p){if(!s.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>f||e<p)throw new RangeError('"value" argument is out of bounds');if(t+a>r.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,a,f){if(e=+e,t=t>>>0,a=a>>>0,!f){var p=Math.pow(2,8*a)-1;A(this,e,t,a,p,0)}var m=1,g=0;for(this[t]=e&255;++g<a&&(m*=256);)this[t+g]=e/m&255;return t+a},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,a,f){if(e=+e,t=t>>>0,a=a>>>0,!f){var p=Math.pow(2,8*a)-1;A(this,e,t,a,p,0)}var m=a-1,g=1;for(this[t+m]=e&255;--m>=0&&(g*=256);)this[t+m]=e/g&255;return t+a},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,a){return e=+e,t=t>>>0,a||A(this,e,t,1,255,0),this[t]=e&255,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,a){return e=+e,t=t>>>0,a||A(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,a){return e=+e,t=t>>>0,a||A(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,a){return e=+e,t=t>>>0,a||A(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,a){return e=+e,t=t>>>0,a||A(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4},s.prototype.writeIntLE=function(e,t,a,f){if(e=+e,t=t>>>0,!f){var p=Math.pow(2,8*a-1);A(this,e,t,a,p-1,-p)}var m=0,g=1,w=0;for(this[t]=e&255;++m<a&&(g*=256);)e<0&&w===0&&this[t+m-1]!==0&&(w=1),this[t+m]=(e/g>>0)-w&255;return t+a},s.prototype.writeIntBE=function(e,t,a,f){if(e=+e,t=t>>>0,!f){var p=Math.pow(2,8*a-1);A(this,e,t,a,p-1,-p)}var m=a-1,g=1,w=0;for(this[t+m]=e&255;--m>=0&&(g*=256);)e<0&&w===0&&this[t+m+1]!==0&&(w=1),this[t+m]=(e/g>>0)-w&255;return t+a},s.prototype.writeInt8=function(e,t,a){return e=+e,t=t>>>0,a||A(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1},s.prototype.writeInt16LE=function(e,t,a){return e=+e,t=t>>>0,a||A(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,a){return e=+e,t=t>>>0,a||A(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2},s.prototype.writeInt32LE=function(e,t,a){return e=+e,t=t>>>0,a||A(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,a){return e=+e,t=t>>>0,a||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function pe(r,e,t,a,f,p){if(t+a>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function me(r,e,t,a,f){return e=+e,t=t>>>0,f||pe(r,e,t,4),n.write(r,e,t,a,23,4),t+4}s.prototype.writeFloatLE=function(e,t,a){return me(this,e,t,!0,a)},s.prototype.writeFloatBE=function(e,t,a){return me(this,e,t,!1,a)};function le(r,e,t,a,f){return e=+e,t=t>>>0,f||pe(r,e,t,8),n.write(r,e,t,a,52,8),t+8}s.prototype.writeDoubleLE=function(e,t,a){return le(this,e,t,!0,a)},s.prototype.writeDoubleBE=function(e,t,a){return le(this,e,t,!1,a)},s.prototype.copy=function(e,t,a,f){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(a||(a=0),!f&&f!==0&&(f=this.length),t>=e.length&&(t=e.length),t||(t=0),f>0&&f<a&&(f=a),f===a||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(a<0||a>=this.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("sourceEnd out of bounds");f>this.length&&(f=this.length),e.length-t<f-a&&(f=e.length-t+a);var p=f-a;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,a,f):Uint8Array.prototype.set.call(e,this.subarray(a,f),t),p},s.prototype.fill=function(e,t,a,f){if(typeof e=="string"){if(typeof t=="string"?(f=t,t=0,a=this.length):typeof a=="string"&&(f=a,a=this.length),f!==void 0&&typeof f!="string")throw new TypeError("encoding must be a string");if(typeof f=="string"&&!s.isEncoding(f))throw new TypeError("Unknown encoding: "+f);if(e.length===1){var p=e.charCodeAt(0);(f==="utf8"&&p<128||f==="latin1")&&(e=p)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<a)throw new RangeError("Out of range index");if(a<=t)return this;t=t>>>0,a=a===void 0?this.length:a>>>0,e||(e=0);var m;if(typeof e=="number")for(m=t;m<a;++m)this[m]=e;else{var g=s.isBuffer(e)?e:s.from(e,f),w=g.length;if(w===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(m=0;m<a-t;++m)this[m+t]=g[m%w]}return this};var He=/[^+/0-9A-Za-z-_]/g;function Ge(r){if(r=r.split("=")[0],r=r.trim().replace(He,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function Y(r,e){e=e||1/0;for(var t,a=r.length,f=null,p=[],m=0;m<a;++m){if(t=r.charCodeAt(m),t>55295&&t<57344){if(!f){if(t>56319){(e-=3)>-1&&p.push(239,191,189);continue}else if(m+1===a){(e-=3)>-1&&p.push(239,191,189);continue}f=t;continue}if(t<56320){(e-=3)>-1&&p.push(239,191,189),f=t;continue}t=(f-55296<<10|t-56320)+65536}else f&&(e-=3)>-1&&p.push(239,191,189);if(f=null,t<128){if((e-=1)<0)break;p.push(t)}else if(t<2048){if((e-=2)<0)break;p.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;p.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;p.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return p}function Qe(r){for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function Xe(r,e){for(var t,a,f,p=[],m=0;m<r.length&&!((e-=2)<0);++m)t=r.charCodeAt(m),a=t>>8,f=t%256,p.push(f),p.push(a);return p}function de(r){return i.toByteArray(Ge(r))}function H(r,e,t,a){for(var f=0;f<a&&!(f+t>=e.length||f>=r.length);++f)e[f+t]=r[f];return f}function C(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function J(r){return r!==r}var Ye=function(){for(var r="0123456789abcdef",e=new Array(256),t=0;t<16;++t)for(var a=t*16,f=0;f<16;++f)e[a+f]=r[t]+r[f];return e}()})(Ue);function S(x){return new DataView(x.buffer,x.byteOffset)}const kt={len:1,get(x,i){return S(x).getUint8(i)},put(x,i,n){return S(x).setUint8(i,n),i+1}},K={len:2,get(x,i){return S(x).getUint16(i,!0)},put(x,i,n){return S(x).setUint16(i,n,!0),i+2}},ee={len:2,get(x,i){return S(x).getUint16(i)},put(x,i,n){return S(x).setUint16(i,n),i+2}},vt={len:4,get(x,i){return S(x).getUint32(i,!0)},put(x,i,n){return S(x).setUint32(i,n,!0),i+4}},Ft={len:4,get(x,i){return S(x).getUint32(i)},put(x,i,n){return S(x).setUint32(i,n),i+4}},Bt={len:4,get(x,i){return S(x).getInt32(i)},put(x,i,n){return S(x).setInt32(i,n),i+4}},bt={len:8,get(x,i){return S(x).getBigUint64(i,!0)},put(x,i,n){return S(x).setBigUint64(i,n,!0),i+8}};class M{constructor(i,n){this.len=i,this.encoding=n,this.textDecoder=new TextDecoder(n)}get(i,n){return this.textDecoder.decode(i.subarray(n,n+this.len))}}const Et="End-Of-Stream";class U extends Error{constructor(){super(Et)}}class At{constructor(){this.maxStreamReadSize=1*1024*1024,this.endOfStream=!1,this.peekQueue=[]}async peek(i,n,o){const c=await this.read(i,n,o);return this.peekQueue.push(i.subarray(n,n+c)),c}async read(i,n,o){if(o===0)return 0;let c=this.readFromPeekBuffer(i,n,o);if(c+=await this.readRemainderFromStream(i,n+c,o-c),c===0)throw new U;return c}readFromPeekBuffer(i,n,o){let c=o,u=0;for(;this.peekQueue.length>0&&c>0;){const h=this.peekQueue.pop();if(!h)throw new Error("peekData should be defined");const s=Math.min(h.length,c);i.set(h.subarray(0,s),n+u),u+=s,c-=s,s<h.length&&this.peekQueue.push(h.subarray(s))}return u}async readRemainderFromStream(i,n,o){let c=o,u=0;for(;c>0&&!this.endOfStream;){const h=Math.min(c,this.maxStreamReadSize),s=await this.readFromStream(i,n+u,h);if(s===0)break;u+=s,c-=s}return u}}class St extends At{constructor(i){super(),this.reader=i.getReader({mode:"byob"})}async readFromStream(i,n,o){if(this.endOfStream)throw new U;const c=await this.reader.read(new Uint8Array(o));return c.done&&(this.endOfStream=c.done),c.value?(i.set(c.value,n),c.value.byteLength):0}async abort(){await this.reader.cancel(),this.reader.releaseLock()}}class Ie{constructor(i){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=(i==null?void 0:i.fileInfo)??{},this.onClose=i==null?void 0:i.onClose,i!=null&&i.abortSignal&&i.abortSignal.addEventListener("abort",()=>{this.abort()})}async readToken(i,n=this.position){const o=new Uint8Array(i.len);if(await this.readBuffer(o,{position:n})<i.len)throw new U;return i.get(o,0)}async peekToken(i,n=this.position){const o=new Uint8Array(i.len);if(await this.peekBuffer(o,{position:n})<i.len)throw new U;return i.get(o,0)}async readNumber(i){if(await this.readBuffer(this.numBuffer,{length:i.len})<i.len)throw new U;return i.get(this.numBuffer,0)}async peekNumber(i){if(await this.peekBuffer(this.numBuffer,{length:i.len})<i.len)throw new U;return i.get(this.numBuffer,0)}async ignore(i){if(this.fileInfo.size!==void 0){const n=this.fileInfo.size-this.position;if(i>n)return this.position+=n,n}return this.position+=i,i}async close(){var i;await this.abort(),await((i=this.onClose)==null?void 0:i.call(this))}normalizeOptions(i,n){if(n&&n.position!==void 0&&n.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return n?{mayBeLess:n.mayBeLess===!0,offset:n.offset?n.offset:0,length:n.length?n.length:i.length-(n.offset?n.offset:0),position:n.position?n.position:this.position}:{mayBeLess:!1,offset:0,length:i.length,position:this.position}}abort(){return Promise.resolve()}}const Ut=256e3;class Tt extends Ie{constructor(i,n){super(n),this.streamReader=i}async readBuffer(i,n){const o=this.normalizeOptions(i,n),c=o.position-this.position;if(c>0)return await this.ignore(c),this.readBuffer(i,n);if(c<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(o.length===0)return 0;const u=await this.streamReader.read(i,o.offset,o.length);if(this.position+=u,(!n||!n.mayBeLess)&&u<o.length)throw new U;return u}async peekBuffer(i,n){const o=this.normalizeOptions(i,n);let c=0;if(o.position){const u=o.position-this.position;if(u>0){const h=new Uint8Array(o.length+u);return c=await this.peekBuffer(h,{mayBeLess:o.mayBeLess}),i.set(h.subarray(u),o.offset),c-u}if(u<0)throw new Error("Cannot peek from a negative offset in a stream")}if(o.length>0){try{c=await this.streamReader.peek(i,o.offset,o.length)}catch(u){if(n!=null&&n.mayBeLess&&u instanceof U)return 0;throw u}if(!o.mayBeLess&&c<o.length)throw new U}return c}async ignore(i){const n=Math.min(Ut,i),o=new Uint8Array(n);let c=0;for(;c<i;){const u=i-c,h=await this.readBuffer(o,{length:Math.min(n,u)});if(h<0)return h;c+=h}return c}abort(){return this.streamReader.abort()}}class It extends Ie{constructor(i,n){super(n),this.uint8Array=i,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:i.length}async readBuffer(i,n){if(n!=null&&n.position){if(n.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=n.position}const o=await this.peekBuffer(i,n);return this.position+=o,o}async peekBuffer(i,n){const o=this.normalizeOptions(i,n),c=Math.min(this.uint8Array.length-o.position,o.length);if(!o.mayBeLess&&c<o.length)throw new U;return i.set(this.uint8Array.subarray(o.position,o.position+c),o.offset),c}close(){return super.close()}}function Ct(x,i){return new Tt(new St(x),i)}function Dt(x,i){return new It(x,i)}new globalThis.TextDecoder("utf8");new globalThis.TextEncoder;Array.from({length:256},(x,i)=>i.toString(16).padStart(2,"0"));function Fe(x){const{byteLength:i}=x;if(i===6)return x.getUint16(0)*2**32+x.getUint32(2);if(i===5)return x.getUint8(0)*2**32+x.getUint32(1);if(i===4)return x.getUint32(0);if(i===3)return x.getUint8(0)*2**16+x.getUint16(1);if(i===2)return x.getUint16(0);if(i===1)return x.getUint8(0)}function Ce(x,i){const n=x.length,o=i.length;if(o===0||o>n)return-1;const c=n-o;for(let u=0;u<=c;u++){let h=!0;for(let s=0;s<o;s++)if(x[u+s]!==i[s]){h=!1;break}if(h)return u}return-1}function _t(x,i){return Ce(x,i)!==-1}function Lt(x){return[...x].map(i=>i.charCodeAt(0))}function Mt(x,i=0){const n=Number.parseInt(new M(6).get(x,148).replace(/\0.*$/,"").trim(),8);if(Number.isNaN(n))return!1;let o=8*32;for(let c=i;c<i+148;c++)o+=x[c];for(let c=i+156;c<i+512;c++)o+=x[c];return n===o}const Rt={get:(x,i)=>x[i+3]&127|x[i+2]<<7|x[i+1]<<14|x[i]<<21,len:4},jt=["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","elf","macho","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","j2c","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf","jls","pst","dwg","parquet","class","arj","cpio","ace","avro","icc","fbx","vsdx","vtt","apk"],zt=["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/wav","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","video/ogg","audio/ogg","audio/ogg; codecs=opus","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-elf","application/x-mach-binary","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/j2c","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","text/vtt","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd","image/jls","application/vnd.ms-outlook","image/vnd.dwg","application/x-parquet","application/java-vm","application/x-arj","application/x-cpio","application/x-ace-compressed","application/avro","application/vnd.iccprofile","application/x.autodesk.fbx","application/vnd.visio","application/vnd.android.package-archive"],Be=4100;async function Nt(x){return new $t().fromBuffer(x)}function D(x,i,n){n={offset:0,...n};for(const[o,c]of i.entries())if(n.mask){if(c!==(n.mask[o]&x[o+n.offset]))return!1}else if(c!==x[o+n.offset])return!1;return!0}class $t{constructor(i){this.detectors=i==null?void 0:i.customDetectors,this.tokenizerOptions={abortSignal:i==null?void 0:i.signal},this.fromTokenizer=this.fromTokenizer.bind(this),this.fromBuffer=this.fromBuffer.bind(this),this.parse=this.parse.bind(this)}async fromTokenizer(i){const n=i.position;for(const o of this.detectors||[]){const c=await o(i);if(c)return c;if(n!==i.position)return}return this.parse(i)}async fromBuffer(i){if(!(i instanceof Uint8Array||i instanceof ArrayBuffer))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof i}\``);const n=i instanceof Uint8Array?i:new Uint8Array(i);if((n==null?void 0:n.length)>1)return this.fromTokenizer(Dt(n,this.tokenizerOptions))}async fromBlob(i){return this.fromStream(i.stream())}async fromStream(i){const n=await Ct(i,this.tokenizerOptions);try{return await this.fromTokenizer(n)}finally{await n.close()}}async toDetectionStream(i,n){const{sampleSize:o=Be}=n;let c,u;const h=i.getReader({mode:"byob"});try{const{value:d,done:y}=await h.read(new Uint8Array(o));if(u=d,!y&&d)try{c=await this.fromBuffer(d.slice(0,o))}catch(v){if(!(v instanceof U))throw v;c=void 0}u=d}finally{h.releaseLock()}const s=new TransformStream({async start(d){d.enqueue(u)},transform(d,y){y.enqueue(d)}}),l=i.pipeThrough(s);return l.fileType=c,l}check(i,n){return D(this.buffer,i,n)}checkString(i,n){return this.check(Lt(i),n)}async parse(i){if(this.buffer=new Uint8Array(Be),i.fileInfo.size===void 0&&(i.fileInfo.size=Number.MAX_SAFE_INTEGER),this.tokenizer=i,await i.peekBuffer(this.buffer,{length:12,mayBeLess:!0}),this.check([66,77]))return{ext:"bmp",mime:"image/bmp"};if(this.check([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(this.check([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(this.check([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(this.check([37,33]))return await i.peekBuffer(this.buffer,{length:24,mayBeLess:!0}),this.checkString("PS-Adobe-",{offset:2})&&this.checkString(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(this.check([31,160])||this.check([31,157]))return{ext:"Z",mime:"application/x-compress"};if(this.check([199,113]))return{ext:"cpio",mime:"application/x-cpio"};if(this.check([96,234]))return{ext:"arj",mime:"application/x-arj"};if(this.check([239,187,191]))return this.tokenizer.ignore(3),this.parse(i);if(this.check([71,73,70]))return{ext:"gif",mime:"image/gif"};if(this.check([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(this.check([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(this.check([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(this.checkString("ID3")){await i.ignore(6);const n=await i.readToken(Rt);return i.position+n>i.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await i.ignore(n),this.fromTokenizer(i))}if(this.checkString("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((this.buffer[0]===67||this.buffer[0]===70)&&this.check([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(this.check([255,216,255]))return this.check([247],{offset:3})?{ext:"jls",mime:"image/jls"}:{ext:"jpg",mime:"image/jpeg"};if(this.check([79,98,106,1]))return{ext:"avro",mime:"application/avro"};if(this.checkString("FLIF"))return{ext:"flif",mime:"image/flif"};if(this.checkString("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(this.checkString("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(this.checkString("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(this.checkString("FORM"))return{ext:"aif",mime:"audio/aiff"};if(this.checkString("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(this.check([80,75,3,4])){try{for(;i.position+30<i.fileInfo.size;){await i.readBuffer(this.buffer,{length:30});const n=new DataView(this.buffer.buffer),o={compressedSize:n.getUint32(18,!0),uncompressedSize:n.getUint32(22,!0),filenameLength:n.getUint16(26,!0),extraFieldLength:n.getUint16(28,!0)};if(o.filename=await i.readToken(new M(o.filenameLength,"utf-8")),await i.ignore(o.extraFieldLength),/classes\d*\.dex/.test(o.filename))return{ext:"apk",mime:"application/vnd.android.package-archive"};if(o.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(o.filename.endsWith(".rels")||o.filename.endsWith(".xml"))switch(o.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};case"visio":return{ext:"vsdx",mime:"application/vnd.visio"};default:break}if(o.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(o.filename.startsWith("3D/")&&o.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(o.filename==="mimetype"&&o.compressedSize===o.uncompressedSize){let c=await i.readToken(new M(o.compressedSize,"utf-8"));switch(c=c.trim(),c){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};default:}}if(o.compressedSize===0){let c=-1;for(;c<0&&i.position<i.fileInfo.size;)await i.peekBuffer(this.buffer,{mayBeLess:!0}),c=Ce(this.buffer,new Uint8Array([80,75,3,4])),await i.ignore(c>=0?c:this.buffer.length)}else await i.ignore(o.compressedSize)}}catch(n){if(!(n instanceof U))throw n}return{ext:"zip",mime:"application/zip"}}if(this.checkString("OggS")){await i.ignore(28);const n=new Uint8Array(8);return await i.readBuffer(n),D(n,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/ogg; codecs=opus"}:D(n,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:D(n,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:D(n,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:D(n,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:D(n,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(this.check([80,75])&&(this.buffer[2]===3||this.buffer[2]===5||this.buffer[2]===7)&&(this.buffer[3]===4||this.buffer[3]===6||this.buffer[3]===8))return{ext:"zip",mime:"application/zip"};if(this.checkString("ftyp",{offset:4})&&this.buffer[8]&96){const n=new M(4,"latin1").get(this.buffer,8).replace("\0"," ").trim();switch(n){case"avif":case"avis":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return n.startsWith("3g")?n.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(this.checkString("MThd"))return{ext:"mid",mime:"audio/midi"};if(this.checkString("wOFF")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(this.checkString("wOF2")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(this.check([212,195,178,161])||this.check([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(this.checkString("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(this.checkString("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(this.checkString("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(this.check([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(this.checkString("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(this.checkString("%PDF")){try{await i.ignore(1350);const n=10*1024*1024,o=new Uint8Array(Math.min(n,i.fileInfo.size));if(await i.readBuffer(o,{mayBeLess:!0}),_t(o,new TextEncoder().encode("AIPrivateData")))return{ext:"ai",mime:"application/postscript"}}catch(n){if(!(n instanceof U))throw n}return{ext:"pdf",mime:"application/pdf"}}if(this.check([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(this.check([73,73])){const n=await this.readTiffHeader(!1);if(n)return n}if(this.check([77,77])){const n=await this.readTiffHeader(!0);if(n)return n}if(this.checkString("MAC "))return{ext:"ape",mime:"audio/ape"};if(this.check([26,69,223,163])){async function n(){const s=await i.peekNumber(kt);let l=128,d=0;for(;!(s&l)&&l!==0;)++d,l>>=1;const y=new Uint8Array(d+1);return await i.readBuffer(y),y}async function o(){const s=await n(),l=await n();l[0]^=128>>l.length-1;const d=Math.min(6,l.length),y=new DataView(s.buffer),v=new DataView(l.buffer,l.length-d,d);return{id:Fe(y),len:Fe(v)}}async function c(s){for(;s>0;){const l=await o();if(l.id===17026)return(await i.readToken(new M(l.len))).replaceAll(/\00.*$/g,"");await i.ignore(l.len),--s}}const u=await o();switch(await c(u.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(this.check([82,73,70,70])){if(this.check([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(this.check([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/wav"};if(this.check([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(this.checkString("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(this.check([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(this.checkString("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(this.checkString("MSCF")||this.checkString("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(this.check([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(this.check([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(this.check([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(this.check([127,69,76,70]))return{ext:"elf",mime:"application/x-elf"};if(this.check([33,66,68,78]))return{ext:"pst",mime:"application/vnd.ms-outlook"};if(this.checkString("PAR1"))return{ext:"parquet",mime:"application/x-parquet"};if(this.check([207,250,237,254]))return{ext:"macho",mime:"application/x-mach-binary"};if(this.check([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(this.checkString("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(this.checkString("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(this.check([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(this.checkString("IMPM"))return{ext:"it",mime:"audio/x-it"};if(this.checkString("-lh0-",{offset:2})||this.checkString("-lh1-",{offset:2})||this.checkString("-lh2-",{offset:2})||this.checkString("-lh3-",{offset:2})||this.checkString("-lh4-",{offset:2})||this.checkString("-lh5-",{offset:2})||this.checkString("-lh6-",{offset:2})||this.checkString("-lh7-",{offset:2})||this.checkString("-lzs-",{offset:2})||this.checkString("-lz4-",{offset:2})||this.checkString("-lz5-",{offset:2})||this.checkString("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(this.check([0,0,1,186])){if(this.check([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(this.check([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(this.checkString("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(this.check([202,254,186,190]))return{ext:"class",mime:"application/java-vm"};if(this.check([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(this.checkString("<?xml "))return{ext:"xml",mime:"application/xml"};if(this.check([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(this.check([82,97,114,33,26,7])&&(this.buffer[6]===0||this.buffer[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(this.checkString("solid "))return{ext:"stl",mime:"model/stl"};if(this.checkString("AC")){const n=new M(4,"latin1").get(this.buffer,2);if(n.match("^d*")&&n>=1e3&&n<=1050)return{ext:"dwg",mime:"image/vnd.dwg"}}if(this.checkString("070707"))return{ext:"cpio",mime:"application/x-cpio"};if(this.checkString("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(this.checkString("!<arch>"))return await i.ignore(8),await i.readToken(new M(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(this.checkString("WEBVTT")&&[`
`,"\r","	"," ","\0"].some(n=>this.checkString(n,{offset:6})))return{ext:"vtt",mime:"text/vtt"};if(this.check([137,80,78,71,13,10,26,10])){await i.ignore(8);async function n(){return{length:await i.readToken(Bt),type:await i.readToken(new M(4,"latin1"))}}do{const o=await n();if(o.length<0)return;switch(o.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await i.ignore(o.length+4)}}while(i.position+8<i.fileInfo.size);return{ext:"png",mime:"image/png"}}if(this.check([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(this.check([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(this.check([102,114,101,101],{offset:4})||this.check([109,100,97,116],{offset:4})||this.check([109,111,111,118],{offset:4})||this.check([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(this.check([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(this.checkString("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(this.check([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(this.check([48,38,178,117,142,102,207,17,166,217])){async function n(){const o=new Uint8Array(16);return await i.readBuffer(o),{id:o,size:Number(await i.readToken(bt))}}for(await i.ignore(30);i.position+24<i.fileInfo.size;){const o=await n();let c=o.size-24;if(D(o.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const u=new Uint8Array(16);if(c-=await i.readBuffer(u),D(u,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(D(u,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await i.ignore(c)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(this.check([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((this.check([126,16,4])||this.check([126,24,4]))&&this.check([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(this.check([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(this.check([255,79,255,81]))return{ext:"j2c",mime:"image/j2c"};if(this.check([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await i.ignore(20),await i.readToken(new M(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(this.check([255,10])||this.check([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(this.check([254,255]))return this.check([0,60,0,63,0,120,0,109,0,108],{offset:2})?{ext:"xml",mime:"application/xml"}:void 0;if(this.check([0,0,1,186])||this.check([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(this.check([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(this.check([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(this.check([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(this.check([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await i.peekBuffer(this.buffer,{length:Math.min(256,i.fileInfo.size),mayBeLess:!0}),this.check([97,99,115,112],{offset:36}))return{ext:"icc",mime:"application/vnd.iccprofile"};if(this.checkString("**ACE",{offset:7})&&this.checkString("**",{offset:12}))return{ext:"ace",mime:"application/x-ace-compressed"};if(this.checkString("BEGIN:")){if(this.checkString("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(this.checkString("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(this.checkString("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(this.checkString("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(this.checkString("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(this.check([4,0,0,0])&&this.buffer.length>=16){const n=new DataView(this.buffer.buffer).getUint32(12,!0);if(n>12&&this.buffer.length>=n+16)try{const o=new TextDecoder().decode(this.buffer.slice(16,n+16));if(JSON.parse(o).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(this.check([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(this.checkString("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(this.check([71])&&this.check([71],{offset:188}))return{ext:"mts",mime:"video/mp2t"};if(this.check([71],{offset:4})&&this.check([71],{offset:196}))return{ext:"mts",mime:"video/mp2t"};if(this.check([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(this.check([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(this.check([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(this.check([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(this.checkString("Kaydara FBX Binary  \0"))return{ext:"fbx",mime:"application/x.autodesk.fbx"};if(this.check([76,80],{offset:34})&&(this.check([0,0,1],{offset:8})||this.check([1,0,2],{offset:8})||this.check([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(this.check([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await i.peekBuffer(this.buffer,{length:Math.min(512,i.fileInfo.size),mayBeLess:!0}),Mt(this.buffer))return{ext:"tar",mime:"application/x-tar"};if(this.check([255,254]))return this.check([60,0,63,0,120,0,109,0,108,0],{offset:2})?{ext:"xml",mime:"application/xml"}:this.check([255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0],{offset:2})?{ext:"skp",mime:"application/vnd.sketchup.skp"}:void 0;if(this.checkString("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(this.buffer.length>=2&&this.check([255,224],{offset:0,mask:[255,224]})){if(this.check([16],{offset:1,mask:[22]}))return this.check([8],{offset:1,mask:[8]})?{ext:"aac",mime:"audio/aac"}:{ext:"aac",mime:"audio/aac"};if(this.check([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(this.check([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(this.check([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}async readTiffTag(i){const n=await this.tokenizer.readToken(i?ee:K);switch(this.tokenizer.ignore(10),n){case 50341:return{ext:"arw",mime:"image/x-sony-arw"};case 50706:return{ext:"dng",mime:"image/x-adobe-dng"}}}async readTiffIFD(i){const n=await this.tokenizer.readToken(i?ee:K);for(let o=0;o<n;++o){const c=await this.readTiffTag(i);if(c)return c}}async readTiffHeader(i){const n=(i?ee:K).get(this.buffer,2),o=(i?Ft:vt).get(this.buffer,4);if(n===42){if(o>=6){if(this.checkString("CR",{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(o>=8&&(this.check([28,0,254,0],{offset:8})||this.check([31,0,11,0],{offset:8})))return{ext:"nef",mime:"image/x-nikon-nef"}}return await this.tokenizer.ignore(o),await this.readTiffIFD(i)??{ext:"tif",mime:"image/tiff"}}if(n===43)return{ext:"tif",mime:"image/tiff"}}}new Set(jt);new Set(zt);function be(x){let i,n,o,c;const u=[Ot,qt],h=[];function s(l,d){return l[3]?0:1}return i=s(x),n=h[i]=u[i](x),{c(){n.c(),o=P()},l(l){n.l(l),o=P()},m(l,d){h[i].m(l,d),R(l,o,d),c=!0},p(l,d){n.p(l,d)},i(l){c||(z(n),c=!0)},o(l){$(n),c=!1},d(l){l&&I(o),h[i].d(l)}}}function qt(x){let i,n,o;return n=new ut({props:{class:"text-sm dark:text-gray-200 leading-relaxed space-y-4",$$slots:{default:[Vt]},$$scope:{ctx:x}}}),{c(){i=te("div"),re(n.$$.fragment),this.h()},l(c){i=ie(c,"DIV",{class:!0});var u=Se(i);ne(n.$$.fragment,u),u.forEach(I),this.h()},h(){O(i,"class","flex items-center justify-center min-h-screen")},m(c,u){R(c,i,u),ae(n,i,null),o=!0},p(c,u){const h={};u&64&&(h.$$scope={dirty:u,ctx:c}),n.$set(h)},i(c){o||(z(n.$$.fragment,c),o=!0)},o(c){$(n.$$.fragment,c),o=!1},d(c){c&&I(i),oe(n)}}}function Ot(x){let i,n,o,c={ctx:x,current:null,token:null,hasCatch:!1,pending:Gt,then:Ht,catch:Wt,value:5,blocks:[,,,]};return ve(n=x[0],c),{c(){i=P(),c.block.c()},l(u){i=P(),c.block.l(u)},m(u,h){R(u,i,h),c.block.m(u,c.anchor=h),c.mount=()=>i.parentNode,c.anchor=i,o=!0},p(u,h){x=u,c.ctx=x,h&1&&n!==(n=x[0])&&ve(n,c)||it(c,x,h)},i(u){o||(z(c.block),o=!0)},o(u){for(let h=0;h<3;h+=1){const s=c.blocks[h];$(s)}o=!1},d(u){u&&I(i),c.block.d(u),c.token=null,c=null}}}function Pt(x){let i;return{c(){i=et("Return to Mail")},l(n){i=tt(n,"Return to Mail")},m(n,o){R(n,i,o)},d(n){n&&I(i)}}}function Vt(x){let i,n="AttachmentGU Required",o,c,u;return c=new xt({props:{href:"/mail",class:"w-full",$$slots:{default:[Pt]},$$scope:{ctx:x}}}),{c(){i=te("h1"),i.textContent=n,o=Ee(),re(c.$$.fragment),this.h()},l(h){i=ie(h,"H1",{class:!0,"data-svelte-h":!0}),Ke(i)!=="svelte-1uhjrpu"&&(i.textContent=n),o=Ae(h),ne(c.$$.fragment,h),this.h()},h(){O(i,"class","text-2xl dark:text-white")},m(h,s){R(h,i,s),R(h,o,s),ae(c,h,s),u=!0},p(h,s){const l={};s&64&&(l.$$scope={dirty:s,ctx:h}),c.$set(l)},i(h){u||(z(c.$$.fragment,h),u=!0)},o(h){$(c.$$.fragment,h),u=!1},d(h){h&&(I(i),I(o)),oe(c,h)}}}function Wt(x){return{c:_,l:_,m:_,p:_,i:_,o:_,d:_}}function Ht(x){let i,n;return{c(){i=te("iframe"),this.h()},l(o){i=ie(o,"IFRAME",{class:!0,src:!0,title:!0}),Se(i).forEach(I),this.h()},h(){O(i,"class","w-full h-full"),ke(i.src,n="data:"+x[1]+";base64,"+x[5].Base64Code)||O(i,"src",n),O(i,"title","Attachment")},m(o,c){R(o,i,c)},p(o,c){c&3&&!ke(i.src,n="data:"+o[1]+";base64,"+o[5].Base64Code)&&O(i,"src",n)},i:_,o:_,d(o){o&&I(i)}}}function Gt(x){let i,n;return i=new st({props:{loadingMsg:"Loading attachment..."}}),{c(){re(i.$$.fragment)},l(o){ne(i.$$.fragment,o)},m(o,c){ae(i,o,c),n=!0},p:_,i(o){n||(z(i.$$.fragment,o),n=!0)},o(o){$(i.$$.fragment,o),n=!1},d(o){oe(i,o)}}}function Qt(x){let i,n,o,c=x[2]&&be(x);return{c(){i=Ee(),c&&c.c(),n=P(),this.h()},l(u){Ze("svelte-1d2mwvl",document.head).forEach(I),i=Ae(u),c&&c.l(u),n=P(),this.h()},h(){document.title="Attachment - GradeVue"},m(u,h){R(u,i,h),c&&c.m(u,h),R(u,n,h),o=!0},p(u,[h]){u[2]?c?(c.p(u,h),h&4&&z(c,1)):(c=be(u),c.c(),z(c,1),c.m(n.parentNode,n)):c&&(ot(),$(c,1,1,()=>{c=null}),at())},i(u){o||(z(c),o=!0)},o(u){$(c),o=!1},d(u){u&&(I(i),I(n)),c&&c.d(u)}}}function Xt(x,i,n){let o,c;ye(x,ft,l=>n(2,o=l)),ye(x,ct,l=>n(4,c=l));const u=c.url.searchParams.get("attachmentGU");let h,s;return o&&u&&(h=o.attachmentBase64(u),h.then(l=>{Nt(Ue.Buffer.from(l.Base64Code,"base64")).then(d=>{d!=null&&d.mime&&n(1,s=d.mime)})})),[h,s,o,u]}class ni extends rt{constructor(i){super(),nt(this,i,Xt,Qt,Je,{})}}export{ni as component};
